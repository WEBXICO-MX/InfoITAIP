$.ajaxSetup({cache:false});function cambiar(){if(validar()){$("#msgbox").removeClass().addClass("messageboxinfo").text("Verificando ...").fadeIn(1000);$.post("ajax-cambiar-contrasena.php",{xContrasenaActual:$("#txtContrasenaActual").val(),xContrasenaNueva:$("#txtContrasenaNueva").val()},function(a){if(a.valido){$("#msgbox").fadeTo(200,0.1,function(){limpiar2();$(this).html(a.msg).addClass("messageboxok").fadeTo(1500,1,function(){$("#msgbox").fadeOut("slow")})})}else{$("#msgbox").fadeTo(200,0.1,function(){$(this).html(a.msg).addClass("messageboxerror").fadeTo(900,1)})}},"json")}}function limpiar(){$("#txtContrasenaActual").val("");$("#txtContrasenaNueva").val("");$("#txtContrasenaNueva2").val("");$("#frmUsuarioContrasena").submit()}function limpiar2(){$("#txtContrasenaActual").val("");$("#txtContrasenaNueva").val("");$("#txtContrasenaNueva2").val("")}function validar(){var a=true;var b="";if($("#txtContrasenaActual").val()===""){b+="Ingrese su contrase単a actual. \n";a=false}if($("#txtContrasenaNueva").val()===""){b+="Ingrese la contrase単a nueva. \n";a=false}if($("#txtContrasenaNueva2").val()===""){b+="Ingrese nuevamente la contrase単a. \n";a=false}if($("#txtContrasenaNueva").val()!==""&&$("#txtContrasenaNueva2").val()!==""){if($("#txtContrasenaNueva2").val()!==$("#txtContrasenaNueva").val()){$("#txtContrasenaNueva2").focus();b+="Las contrase単as no coinciden. \n";a=false}}if(!a){alert(b)}return a};